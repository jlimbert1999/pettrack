import{c as x}from"./chunk-4BOBBNNX.js";import{a as ee,b as te,c as ie,d as ae,e as ne,f as oe,g as re,h as me,i as le,j as de,k as se,l as pe,m as ce,n as fe}from"./chunk-AYFB3NRK.js";import{a as ue,b as ge,c as Ce,d as Me,e as be,f as _e,g as he,h as De}from"./chunk-5VRKR4PS.js";import{a as Y,b as Z}from"./chunk-AJNVVCZR.js";import{b as q,g as W,h as J,j as U,k as X}from"./chunk-RFB2B4XO.js";import"./chunk-55VYKXYZ.js";import{B as L,Ba as $,Ha as D,Ja as j,Ka as v,La as K,Ma as Q,k as z,m as S,p as A,q as G,t as P,v as H,y as V,z as O}from"./chunk-HCUTLELD.js";import{Bb as u,Ib as g,Kb as l,Kc as k,Qb as y,Sb as T,Tb as I,Ub as n,Vb as o,Wb as p,Xb as _,Yb as h,_b as R,bc as c,dc as N,ib as m,la as s,oc as r,pc as F,qc as C,rb as b,ua as w,va as E}from"./chunk-2UWQULQ5.js";function we(e,i){if(e&1&&(n(0,"mat-option",4),r(1),o()),e&2){let t=i.$implicit;l("value",t.value),m(),F(t.label)}}var M=class e{fb=s(O);breedService=s(x);dialogRef=s(ue);data=s(ge);formCenter=this.fb.group({name:["",S.required],species:["",S.required]});species=[{value:"CANINO",label:"Canino"},{value:"FELINO",label:"Felino"}];ngOnInit(){this.formCenter.patchValue(this.data??{})}save(){(this.data?this.breedService.edit(this.data.id,this.formCenter.value):this.breedService.add(this.formCenter.value)).subscribe(t=>{this.dialogRef.close(t)})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-breed-dialog"]],decls:19,vars:3,consts:[["mat-dialog-title",""],[1,"py-2",3,"formGroup"],["appearance","outline"],["formControlName","species"],[3,"value"],["formControlName","name","matInput",""],["align","end"],["mat-button","","color","warn","mat-dialog-close",""],["mat-button","","color","primary",3,"click","disabled"]],template:function(t,a){t&1&&(n(0,"h2",0),r(1),o(),n(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),r(6,"Especie"),o(),n(7,"mat-select",3),T(8,we,2,2,"mat-option",4,y),o()(),n(10,"mat-form-field",2)(11,"mat-label"),r(12,"Nombre"),o(),p(13,"input",5),o()()(),n(14,"mat-dialog-actions",6)(15,"button",7),r(16,"Cancelar"),o(),n(17,"button",8),c("click",function(){return a.save()}),r(18," Guardar "),o()()),t&2&&(m(),C("",a.data?"Edicion":"Creacion"," Raza"),m(2),l("formGroup",a.formCenter),m(5),I(a.species),m(9),l("disabled",a.formCenter.invalid))},dependencies:[L,P,z,A,G,H,V,De,Me,be,he,_e,J,W,q,X,U,v,D,Z,Y,$],encapsulation:2,changeDetection:0})};function Ee(e,i){e&1&&(n(0,"th",18),r(1,"Categoria"),o())}function ye(e,i){if(e&1&&(n(0,"td",19),r(1),o()),e&2){let t=i.$implicit;m(),C(" ",t.species," ")}}function Te(e,i){e&1&&(n(0,"th",18),r(1,"Nombre"),o())}function Ie(e,i){if(e&1&&(n(0,"td",19),r(1),o()),e&2){let t=i.$implicit;m(),C(" ",t.name," ")}}function Re(e,i){e&1&&p(0,"th",18)}function Ne(e,i){if(e&1){let t=R();n(0,"td",20)(1,"button",21),c("click",function(){let d=w(t).$implicit,f=N();return E(f.update(d))}),n(2,"mat-icon"),r(3,"edit"),o()()()}}function Fe(e,i){e&1&&p(0,"tr",22)}function ke(e,i){e&1&&p(0,"tr",23)}function ze(e,i){e&1&&(n(0,"tr",24)(1,"td",25),r(2,"No se encontraron resultados"),o()())}var B=class e{dialog=s(Ce);medicalCenterService=s(x);displayedColumns=["species","name","buttons"];datasource=u([]);datasize=u(0);limit=u(10);index=u(0);offset=k(()=>this.limit()*this.index());ngOnInit(){this.getData()}getData(){this.medicalCenterService.get(this.limit(),this.offset()).subscribe(({breeds:i,length:t})=>{this.datasource.set(i),this.datasize.set(t)})}create(){this.dialog.open(M,{width:"600px",maxWidth:"600px"}).afterClosed().subscribe(t=>{t&&(this.datasource.update(a=>(a.length===this.limit()&&a.pop(),[t,...a])),this.datasize.update(a=>a+=1))})}update(i){this.dialog.open(M,{width:"600px",maxWidth:"600px",data:i}).afterClosed().subscribe(a=>{a&&this.datasource.update(d=>{let f=d.findIndex(ve=>ve.id===a.id);return d[f]=a,[...d]})})}onPageChange(i){this.limit.set(i.pageSize),this.index.set(i.pageIndex),this.getData()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-breeds-manage"]],decls:26,vars:6,consts:[[1,"animate-fade"],[1,"flex","px-4","py-3","items-center"],[1,"text-2xl"],[1,"flex-1"],["mat-flat-button","",3,"click"],[1,"px-2"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","species"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","buttons"],["mat-cell","","class","w-8",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users search results","showFirstLastButtons","",3,"page","length","pageSize","pageIndex"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"w-8"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell","p-3"]],template:function(t,a){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),r(3,"Razas"),o(),p(4,"div",3),n(5,"div")(6,"button",4),c("click",function(){return a.create()}),n(7,"mat-icon"),r(8,"add"),o(),r(9," Agregar "),o()()(),n(10,"div",5)(11,"div",6)(12,"table",7),_(13,8),g(14,Ee,2,0,"th",9)(15,ye,2,1,"td",10),h(),_(16,11),g(17,Te,2,0,"th",9)(18,Ie,2,1,"td",10),h(),_(19,12),g(20,Re,1,0,"th",9)(21,Ne,4,0,"td",13),h(),g(22,Fe,1,0,"tr",14)(23,ke,1,0,"tr",15)(24,ze,3,0,"tr",16),o(),n(25,"mat-paginator",17),c("page",function(f){return a.onPageChange(f)}),o()()()()),t&2&&(m(12),l("dataSource",a.datasource()),m(10),l("matHeaderRowDef",a.displayedColumns),m(),l("matRowDefColumns",a.displayedColumns),m(2),l("length",a.datasize())("pageSize",10)("pageIndex",a.index()))},dependencies:[fe,ie,ne,le,oe,ae,de,re,me,se,pe,ce,Q,K,te,ee,v,D,j],encapsulation:2,changeDetection:0})};export{B as default};
